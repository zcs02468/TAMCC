<!doctype html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,width=device-width,initial-scale=1.0"/>
  <meta name="format-detection" content="telephone=no,email=no,date=no,address=no">
  <title>js实现文字超过显示宽度每间隔1s自动向左滚动显示</title>
  <style type="text/css">
*{
  margin:0;
  padding:0;
}
.box{
  margin-left: 200px;
  margin-top: 100px;
  color: #FFF;
  white-space: nowrap;
  overflow: hidden;
  width: 300px;
  background: #000;
}
.content p{
  display:inline-block;
}
.content p.padding{
  padding-right: 300px;
}
  </style>
</head>
<body>
  <div class="box">
    <div class="content">
        <p class="text">1.文字如果超出了宽度自动向左滚动文字如果超出了宽度自动向左滚动。</p>
    </div>
  </div>
<script>
  // var wrapper = document.getElementById('wrapper');
  // var inner = wrapper.getElementsByTagName('div')[0];
  // var p = document.getElementsByTagName('p')[0];
  // var p_w = p.offsetWidth;
  // var wrapper_w = wrapper.offsetWidth;
  // window.onload=function fun(){  
  //   if(wrapper_w > p_w){ return false;}
  //   inner.innerHTML+=inner.innerHTML;
  //   setTimeout("fun1()",2000);    
  // }
  // function fun1(){    
  //   if(p_w > wrapper.scrollLeft){
  //     wrapper.scrollLeft++;
  //     setTimeout("fun1()",30);
  //   }
  //   else{
  //     setTimeout("fun2()",2000);
  //   }
  // }
  function fun2(){
    box.scrollLeft=0;
    toScrollLeft();
  }

  let [box, content, text] = [
  document.querySelector('.box'),
  document.querySelector('.content'),
  document.querySelector('.text')
]
let [textWidth, boxWidth] = [
  text.offsetWidth,
  box.offsetWidth
]
window.onload=function checkScrollLeft(){
  // 判断文字长度是否大于盒子长度
  if(boxWidth > textWidth){ return false}
  content.innerHTML += content.innerHTML
  document.querySelector('.text').classList.add('padding')
  // 更新
  textWidth = document.querySelector('.text').offsetWidth
  toScrollLeft()
}
function toScrollLeft(){
  //  如果文字长度大于滚动条距离，则递归拖动
  if(textWidth > box.scrollLeft){
    box.scrollLeft++
    setTimeout('toScrollLeft()', 18);
  }
  else{
    setTimeout("fun2()");
  }
}
</script>
</body>
</html>